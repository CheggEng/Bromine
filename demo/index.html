<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
    <style type="text/css">
        .clicked {
            color : #fed
        }
    </style>
</head>
<body>
	<a href="#bla1">bla1</a><a href="#bla2">bla2</a><a href="#bla3">bla3</a>

    <script src="../src/Events.js" type="text/javascript"></script>
    <script src="../src/utils.js" type="text/javascript"></script>
    <script src="../src/Bromine.js" type="text/javascript"></script>
    <script type="text/javascript">
        var tester = new Bromine.Tester();

        
        document.addEventListener('click', function(e){
            e.target.className = 'clicked';       
        });

        document.addEventListener('DOMContentLoaded',function(){ 
            tester.registerTest("Href Test",{
                discription : "Test that all anchors change url properly",
                init : function(){
                    this.element = document.querySelector('a');
                    this.index = 1;
                },
                destroy : function(){
                    this.element = null;
                },
                tests : [
                    function(){
                        Bromine.Tester.fireEvent(this.element, 'click');
                        this.log({
                            msg : "Anchor #"+ this.index +" should have a clicked class",
                            success : this.element.classList.contains('clicked')
                        });

                        this.index++;

                        this.element = this.element.nextSibling;

                        if (this.element.nodeName.toLowerCase()!='a'){
                            this.done();
                        }else{
                            this.current();
                        }
                    }
                ]
            }); 

            tester.run();
        });
    </script>
</body>
</html>
